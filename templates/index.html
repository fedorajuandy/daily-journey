{% extends "layout.html" %}

{% block title %}
  Home
{% endblock %}

{% block main %}
<div class="min-vh-100 text-white">
  <!-- Title -->
  <div class="pb-3">
    <div class="row pt-5">
      <div class="col-12">
        <h1 class="display-5">Welcome back, {{ user[0] }}.</h1>
      </div>
    </div>
  </div>

  <!-- Search, add button -->
  <div class="row justify-content-between pb-3">
    <div class="col-md-11 col-sm-10">
      <div class="row">
        <div class="col-md-11 col-sm-10">
          <input class="form-control sform-control-sm" type="search" id="searchTable" onkeyup="searchTable()" oninput="searchTable()" placeholder="Search..." aria-label="Search">
        </div>
      </div>
    </div>
    <div class="col-md-1 col-sm-2">
      <a href="/journeys/create" class="btn btn-primary text-nowrap w-100" role="button">Add</a>
    </div>
  </div>

  <!-- Table -->
  <div class="row">
    <div class="col">
      <div class="table-responsive">
        <table id="table-item" class="table table-striped table-hover table-dark align-middle">
          <thead>
            <tr>
              <th class="sort" onclick="sortTable(0)">Date <span id="th0"></span></th>
              <th class="sort" onclick="sortTable(1)">Mood <span id="th1"></span></th>
              <th class="sort" onclick="sortTable(2)">Weather <span id="th2"></span></th>
              <th class="sort" onclick="sortTable(3)">Person <span id="th3"></span></th>
              <th class="sort" onclick="sortTable(4)">Title <span id="th4"></span></th>
              <th class="sort" onclick="sortTable(5)">Diary <span id="th5"></span></th>
              <th>Actions</th>
            </tr>
          </thead>

          <tbody class="table-group-divider">
            {% for journey in journeys %}
              <tr>
                <td>{{ journey[8] }}</td>
                <td>{{ journey[3] }}</td>
                <td>{{ journey[5] }}</td>
                <td>{{ journey[7] }}</td>
                <td>{{ journey[9] }}</td>
                <td>{{ journey[10] }}</td>
                <td>
                  <div class="btn-group">
                    <a role="button" class="btn btn-sm btn-outline-secondary" href="/journeys/edit/{{ journey[0] }}">Edit</a>
                    <a role="button" class="btn btn-sm btn-outline-danger" href="/journeys/delete/{{ journey[0] }}" onclick="return confirm('Are you sure to delete selected item, including all details inside it?');">Delete</a>
                  </div>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% endblock %}
